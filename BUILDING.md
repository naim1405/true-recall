# Building and Distributing True Recall

## Quick Build

```powershell
cd true-recall\build
cmake --build . --config Release
```

The standalone executable will be at: `build\Release\true-recall.exe` (~500KB)

---

## For End Users - Running the Program

True Recall is **fully standalone** with zero installation required!

### Quick Start

1. **Download** `true-recall.exe` from the latest GitHub release
2. **Place** the executable anywhere you like (e.g., `C:\Program Files\TrueRecall\` or your Desktop)
3. **Double-click** `true-recall.exe` to run
4. Look for the True Recall icon in your **system tray** (bottom-right corner)
5. Use the default hotkey **Alt+N** to switch between monitors

### First Run

- A `true-recall.ini` config file will be created automatically in the same folder
- Edit this file to customize hotkeys and behavior (see README.md)
- Restart the program after editing the config

### Auto-Start on Windows Boot

**Option 1: Startup Folder (Easiest)**
1. Press `Win+R`, type `shell:startup`, press Enter
2. Copy `true-recall.exe` to this folder
3. Done! It will start automatically when you log in

**Option 2: Task Scheduler**
1. Open Task Scheduler → Create Basic Task
2. Trigger: "When I log on"
3. Action: Start `true-recall.exe`

### Uninstalling

1. Right-click the tray icon → Exit
2. Delete `true-recall.exe` and `true-recall.ini`
3. If added to Startup folder, remove it from there too

No registry entries, no system files - completely clean removal!

---

## Build from Source

### Requirements

- Windows 10 or later
- Visual Studio 2022 (or Build Tools)
- CMake 3.15+

### Steps

```powershell
# Clone or download the repository
cd true-recall

# Create and configure build directory
mkdir build
cd build
cmake ..

# Build Release version (recommended)
cmake --build . --config Release

# Build Debug version (with console)
cmake --build . --config Debug
```

---

## Creating a GitHub Release

### Prerequisites

- Built and tested `true-recall.exe` in Release mode
- Updated version numbers in code and documentation
- Committed all changes to git

### Step-by-Step Release Process

**1. Prepare the Release**

```powershell
# Update version in these files:
# - src/TrayIcon.cpp (About dialog)
# - README.md (version at bottom)
# - CHANGELOG.md (add new version section)

# Commit changes
git add .
git commit -m "Release v1.2"
git push
```

**2. Create and Push Tag**

```powershell
# Create version tag
git tag v1.2

# Push tag to GitHub
git push origin v1.2
```

**3. Build Release Executable**

```powershell
# Build Release version
cd build
cmake --build . --config Release

# The executable is at: build\Release\true-recall.exe
```

**4. Create GitHub Release**

1. Go to GitHub repository → **Releases** → **Draft a new release**
2. **Choose tag:** Select `v1.2` from dropdown
3. **Release title:** `True Recall v1.2`
4. **Description:** Copy relevant section from CHANGELOG.md
5. **Attach files:**
   - `true-recall.exe` (from `build\Release\true-recall.exe`)
6. Click **Publish release**

### Release Assets Checklist

- [ ] `true-recall.exe` - Standalone executable (~500KB)
- [ ] Source code archives (auto-generated by GitHub)
- [ ] Release notes from CHANGELOG.md

### What Users Get

- **Single executable file** - fully standalone
- **Config file auto-created** on first run
- **Documentation** available in the GitHub repository
- Clear release notes describing changes

---

## Notes

- The Release build requires **no runtime dependencies**
- Maximum compatibility across Windows 10/11 systems
- Unsigned binaries show SmartScreen warning (normal for new apps)
- Optional: Code sign with certificate to avoid SmartScreen warnings

---

## Testing Before Release

Before creating a GitHub release, verify:

- [ ] Build in Release mode completes successfully
- [ ] Test on clean Windows install (if possible)
- [ ] Verify no missing DLL errors
- [ ] Test hotkey registration and functionality
- [ ] Test tray icon and menu
- [ ] Test config file creation and editing
- [ ] Check file size (~500KB)
- [ ] All documentation is up to date

---

## Final Notes

The Release build is **production-ready** and can be shared immediately.

No additional runtime dependencies means **maximum compatibility** across Windows 10/11 systems.

**Security note:** Users will see SmartScreen warning for unsigned binaries. This is normal for new applications without code signing certificates.
